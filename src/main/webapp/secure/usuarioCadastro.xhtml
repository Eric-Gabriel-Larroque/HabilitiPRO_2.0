<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<ui:composition template="../template/basic_layout.xhtml">
    <ui:define name="title">Cadastro Usuário</ui:define>
    <ui:define name="content">

        <h:form styleClass="col-lg-10">
            <p:messages globalOnly="true" infoStyle="color:darkgreen" errorStyle="color:darkred"  showDetail="true" showIcon="false" showSummary="false" closable="true">
                <p:autoUpdate />
            </p:messages>
            <div class="form-group mb-3">
                <p:outputLabel for="nome" styleClass="col-form-label" value="Nome"/>
                <p:inputText id="nome" value="#{usuarioCadastroWebBean.usuario.nome}" styleClass="form-control"/>
                <h:message for="nome" styleClass="form-text text-danger"/>
            </div>
            <div class="form-group mb-3">
                <p:outputLabel for="cpf" styleClass="col-form-label" value="CPF"/>
                <p:inputMask size="14" mask="999.999.999-99" id="cpf" value="#{usuarioCadastroWebBean.usuario.cpf}"
                             styleClass="form-control">
                    <f:validator validatorId="com.senai.habilitpro.validator.CpfValidator"/>
                </p:inputMask>
                <h:message for="cpf" styleClass="form-text text-danger"/>
            </div>
            <div class="form-group mb-3">
                <p:outputLabel for="email" styleClass="col-form-label" value="E-mail"/>
                <p:inputText id="email" value="#{usuarioCadastroWebBean.usuario.email}" styleClass="form-control">
                    <f:validator validatorId="com.senai.habilitpro.validator.EmailValidator"/>
                </p:inputText>
                <h:message for="email" styleClass="form-text text-danger"/>
            </div>
            <div class="form-group mb-3">
                <p:outputLabel for="senha" styleClass="col-form-label" value="Senha"/>
                <p:password id="senha" value="#{usuarioCadastroWebBean.usuario.senha}" styleClass="form-control"/>
                <h:message for="senha" styleClass="form-text text-danger"/>
            </div>
            <div class="form-group mb-3">
                <p:outputLabel for="roles" styleClass="col-form-label" value="Permissões"/>
                <p:selectManyMenu id="roles" value="#{usuarioCadastroWebBean.usuario.rolesId}" rows="5" cols="50"
                                  styleClass="form-select">
                    <f:selectItems value="#{usuarioCadastroWebBean.roles}" var="role" itemValue="#{role.id}"
                                   itemLabel="#{role.nome}"/>
                </p:selectManyMenu>
                <h:message for="roles" styleClass="form-text text-danger"/>
            </div>
            <h:commandButton styleClass="btn btn-success" id="salvar" value="Salvar" process="@form"
                             action="#{usuarioCadastroWebBean.salvar()}"/>
        </h:form>
    </ui:define>
</ui:composition>
</html>
